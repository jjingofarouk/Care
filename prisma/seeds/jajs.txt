
> hospital-management-system@1.0.3 db:seed
> npm run schema:build && npx prisma db seed -- --seed-file prisma/seed.js


> hospital-management-system@1.0.3 schema:build
> node prisma/scripts/build-schema.js

ğŸ”¨ Building Prisma schema from modules...
ğŸ“„ Processing: dashboard.prisma
ğŸ“„ Processing: home.prisma
ğŸ“„ Processing: login.prisma
ğŸ“„ Processing: register.prisma
ğŸ“„ Processing: doctor.prisma
ğŸ“„ Processing: nursing.prisma
ğŸ“„ Processing: system-admin.prisma
ğŸ“„ Processing: social-service.prisma
ğŸ“„ Processing: incentive.prisma
ğŸ“„ Processing: patients.prisma
ğŸ“„ Processing: medical-records.prisma
ğŸ“„ Processing: adt.prisma
ğŸ“„ Processing: queue-mgmt.prisma
ğŸ“„ Processing: clinical.prisma
ğŸ“„ Processing: appointments.prisma
ğŸ“„ Processing: emergency.prisma
ğŸ“„ Processing: maternity.prisma
ğŸ“„ Processing: vaccination.prisma
ğŸ“„ Processing: operation-theatre.prisma
ğŸ“„ Processing: laboratory.prisma
ğŸ“„ Processing: radiology.prisma
ğŸ“„ Processing: pharmacy.prisma
ğŸ“„ Processing: dispensary.prisma
ğŸ“„ Processing: cssd.prisma
ğŸ“„ Processing: helpdesk.prisma
ğŸ“„ Processing: utilities.prisma
ğŸ“„ Processing: settings.prisma
ğŸ“„ Processing: verification.prisma
ğŸ“„ Processing: billing.prisma
ğŸ“„ Processing: accounting.prisma
ğŸ“„ Processing: claim-mgmt.prisma
ğŸ“„ Processing: nhif.prisma
ğŸ“„ Processing: inventory.prisma
ğŸ“„ Processing: procurement.prisma
ğŸ“„ Processing: substore.prisma
ğŸ“„ Processing: fixed-assets.prisma
ğŸ“„ Processing: departments.prisma
ğŸ“„ Processing: reports.prisma
ğŸ“„ Processing: dynamic-report.prisma
ğŸ“„ Processing: mkt-referral.prisma
âœ… Schema built successfully!
ğŸ“Š Processed 40 modules
ğŸ“ Total lines: 1852
ğŸ’¾ Output: /project/workspace/carewave/prisma/schema.prisma
Environment variables loaded from .env
Running seed command `node prisma/seed.js --seed-file prisma/seed.js` ...
PrismaClientKnownRequestError: 
Invalid `prisma.department.create()` invocation in
/project/workspace/carewave/prisma/seed.js:214:48

  211 
  212 async function main() {
  213   // Create departments
â†’ 214   const clinicalDept = await prisma.department.create(
Unique constraint failed on the fields: (`name`)
    at $n.handleRequestError (/project/workspace/carewave/node_modules/@prisma/client/runtime/library.js:121:7315)
    at $n.handleAndLogRequestError (/project/workspace/carewave/node_modules/@prisma/client/runtime/library.js:121:6623)
    at $n.request (/project/workspace/carewave/node_modules/@prisma/client/runtime/library.js:121:6307)
    at async l (/project/workspace/carewave/node_modules/@prisma/client/runtime/library.js:130:9633)
    at async main (/project/workspace/carewave/prisma/seed.js:214:24) {
  code: 'P2002',
  clientVersion: '5.22.0',
  meta: { modelName: 'Department', target: [ 'name' ] }
}

An error occurred while running the seed command:
Error: Command failed with exit code 1: node prisma/seed.js --seed-file prisma/seed.js
